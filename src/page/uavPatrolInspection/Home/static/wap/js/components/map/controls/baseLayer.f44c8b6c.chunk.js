(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"9oiP":function(t,e,i){"use strict";var a=i("vcg4");i.n(a).a},"Cv7/":function(t,e,i){"use strict";i.r(e);var a=i("pBRc"),s={name:"BaseLayerControl",props:{position:{type:String,default:""},map:{type:Object,default:()=>({})},mapOptions:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})}},data:()=>({popupVisible:!1,layerList:[],currentLayerId:"",currentLayerContent:{}}),computed:{},mounted(){this.$mapLayersFun.MapBaseLayersListenFun((t=[])=>{for(const e of t){for(const t of e.list)t.componentName&&(t.config.title=t.config.title||Object(a.a)(t),!0===(t.config||{}).active&&(this.currentLayerContent=Object(a.a)(t).content,this.currentLayerId=t.id));e.list=e.list.sort((t,e)=>t.config.sort>e.config.sort)}this.layerList=t.sort((t,e)=>t.sort>e.sort)}),setTimeout(()=>{"show"===this.config.toggle&&(this.popupVisible=!0)},1e3)},methods:{handleClick(){this.popupVisible=!0},changeLayer(t={}){this.currentLayerId=t.id,this._log(`currentLayerId is ${this.currentLayerId}`),this.map.hasLayer(Object(a.a)(t).content)||(this.map.eachLayer(t=>{t._leaflet_id!==this.leafletId&&t._leaflet_id!==this.map._first_leaflet_id||t.remove()}),this.currentLayerContent=Object(a.a)(t).content,this.map.addLayer(this.currentLayerContent),this.leafletId=this.currentLayerContent._leaflet_id)},getImgPath(t){return t.indexOf("http")>-1?t:`${this.$base.path.nodeStaticResourcesHost}/images${t}`}}},n=(i("9oiP"),i("KHd+")),r=Object(n.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bar-item bar-btn richway-touch-btn"},[i("i",{staticClass:"richway-icon bar-base-layer",class:[t.config.icon||"icon-layer"],on:{click:t.handleClick}}),t._v(" "),i("mt-popup",{staticClass:"base-layer-popup",attrs:{position:"bottom"},model:{value:t.popupVisible,callback:function(e){t.popupVisible=e},expression:"popupVisible"}},[i("div",{staticClass:"base-layer-panel"},[t.layerList.length?i("ul",t._l(t.layerList,function(e,a){return i("li",{key:a,staticClass:"layer-panel-li"},[i("p",[t._v(t._s(e.title))]),t._v(" "),i("ul",t._l(e.list,function(e,a){return i("li",{key:a,staticClass:"layer-sub-li",class:[e.id===t.currentLayerId?"active":""]},[i("p",[t._v(t._s(e.config.title))]),t._v(" "),i("img",{attrs:{src:t.getImgPath(e.config.icon)},on:{click:function(i){t.changeLayer(e)}}})])}))])})):i("p",[t._v("暂时没有可以选择的底图")])])])],1)},[],!1,null,"657e36a6",null);r.options.__file="baseLayer.vue";e.default=r.exports},vcg4:function(t,e,i){}}]);