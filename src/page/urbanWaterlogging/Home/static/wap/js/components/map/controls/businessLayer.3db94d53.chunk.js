(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"59kd":function(e,s,i){},"VUf/":function(e,s,i){"use strict";i.r(s);var a={name:"BusinessLayerControl",props:{position:{type:String,default:""},map:{type:Object,default:()=>({})},mapOptions:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})}},data:()=>({popupVisible:!1,checkValue:[],layerList:[]}),computed:{},mounted(){this.$mapLayersFun.MapBusinessLayersChangeListenFun(()=>{this.getBusinessLayers()}),setTimeout(()=>{"show"===this.config.toggle&&(this.popupVisible=!0)},1e3)},methods:{handleClick(){this.popupVisible=!0},getBusinessLayers(){const e=[];for(const s in window._RichWay.$map.businessLayers)if(Object.hasOwnProperty.call(window._RichWay.$map.businessLayers,s)){const i=window._RichWay.$map.businessLayers[s];i.code||(i.code=s),!0===i.controllByLayer&&(i.value=i.code,i.label=i.title,e.push(i))}this.layerList=e.sort((e,s)=>parseFloat(`${e.layerSort}`)>parseFloat(`${s.layerSort}`))},changeBusinessLayer(e){for(const s of this.layerList)for(const i of e)i===s.code&&(!0===s.visibility?"function"==typeof(s.layer||{}).createGraphics&&s.layer.createGraphics():"function"==typeof(s.layer||{}).clearGraphics&&s.layer.clearGraphics())}}},t=(i("Yz5i"),i("KHd+")),n=Object(t.a)(a,function(){var e=this,s=e.$createElement,i=e._self._c||s;return i("div",{staticClass:"bar-item bar-btn richway-touch-btn"},[i("i",{staticClass:"richway-icon bar-business-layer",class:[e.config.icon||"icon-group"],on:{click:e.handleClick}}),e._v(" "),i("mt-popup",{staticClass:"business-layer-popup",attrs:{position:"bottom"},model:{value:e.popupVisible,callback:function(s){e.popupVisible=s},expression:"popupVisible"}},[i("div",{staticClass:"business-layer-panel"},[e.layerList.length?i("mt-checklist",{attrs:{options:e.layerList},on:{change:function(s){e.changeBusinessLayer(s)}},model:{value:e.checkValue,callback:function(s){e.checkValue=s},expression:"checkValue"}}):i("p",[e._v("暂无可控制的图层")])],1)])],1)},[],!1,null,"b3cac7e0",null);n.options.__file="businessLayer.vue";s.default=n.exports},Yz5i:function(e,s,i){"use strict";var a=i("59kd");i.n(a).a}}]);